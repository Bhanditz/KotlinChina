Kotlin 类似于C# 和 Gosu, 提供给类扩展新方法但又不需要继承，也不需要任何设计模式，不需要像装饰着模式来扩展。它通过特殊的定义就可以做到，它就要做扩展。Kotlin支持扩展方法和扩展属性。

## Extension Functions

定义一个扩展方法，我们需要在类型前加一个前缀，换句话说，就像下面的代码。添加一个`swap`方法给`MutableList<Int>:`类

```Kotlin
fun MutableList<Int>.swap(index1: Int, index2: Int) {
  val tmp = this[index1] // 'this' corresponds to the list
  this[index1] = this[index2]
  this[index2] = tmp
}
```

上面代码中的`this`这个关键字是就是`MutableList<Int>:`类。现在我们可以调用`swap`这个方法在任何`MutableList<Int>:`类中，就像下面的代码。

```Kotlin
val l = mutableListOf(1, 2, 3)
l.swap(0, 2) // 'this' inside 'swap()' will hold the value of 'l'
```

当然，这个方法对任何`MutableList<Int>:`类型都可以使用，我们可以把它做成泛型。

```Kotlin
fun <T> MutableList<T>.swap(index1: Int, index2: Int) {
  val tmp = this[index1] // 'this' corresponds to the list
  this[index1] = this[index2]
  this[index2] = tmp
}
```

上面我们定义成泛型(在方法名前加范型)，关于泛型请查看[泛型](./泛型)